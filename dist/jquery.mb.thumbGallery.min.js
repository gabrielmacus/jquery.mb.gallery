/* jquery.mb.thumbGallery 25-05-2015
 _ jquery.mb.components                                                                                                                             _
 _ email: matteo@open-lab.com                                                                                                                       _
 _ Copyright (c) 2001-2015. Matteo Bicocchi (Pupunzi);                                                                                              _
 _ blog: http://pupunzi.open-lab.com                                                                                                                _
 _ Open Lab s.r.l., Florence - Italy                                                                                                                _
 */
!function(a){jQuery.thumbGrid={name:"jquery.mb.thumbGrid",version:"1.3.1",author:"Matteo Bicocchi",defaults:{nav_effect:"slideLeft",nav_delay:60,nav_timing:800,nav_pagination:6,gallery_effectnext:"slideRight",gallery_effectprev:"slideLeft",gallery_timing:500,gallery_cover:!0,gallery_fullscreenw:"100%",gallery_fullscreenh:"100%"},transitions:{fade:{"in":{opacity:0},out:{opacity:0}},slideUp:{"in":{opacity:0},out:{y:-200,opacity:0}},slideDown:{"in":{opacity:0},out:{y:200,opacity:0}},slideLeft:{"in":{opacity:0},out:{x:-200,opacity:0}},slideRight:{"in":{opacity:0},out:{x:200,opacity:0}},slideInverse:{"in":{y:200,opacity:0},out:{y:200,opacity:0}},zoomIn:{"in":{scale:.5,opacity:0},out:{scale:2,opacity:0}},zoomOut:{"in":{scale:2,opacity:0},out:{scale:.1,opacity:0}},rotate:{"in":{opacity:0},out:{rotate:179,opacity:0}}},init:function(a){var b={};return jQuery.extend(b,jQuery.thumbGrid.defaults,a),this.each(function(){var a=this,c=jQuery(a);c.addClass("tg-container"),c.hide(),a.isAnimating=!1,a.pageIndex=0,a.nav_effect=c.data("nav_effect")||b.nav_effect,a.nav_delay=c.data("nav_delay")||b.nav_delay,a.nav_timing=c.data("nav_timing")||b.nav_timing,a.nav_pagination=c.data("nav_pagination")||b.nav_pagination,a.gallery_fullscreenw=c.data("gallery_fullscreenw")||b.gallery_fullscreenw,a.gallery_fullscreenh=c.data("gallery_fullscreenh")||b.gallery_fullscreenh,a.gallery_cover=c.data("gallery_cover")||b.gallery_cover,a.gallery_effectnext=c.data("gallery_effectnext")||a.nav_effect,a.gallery_effectprev=c.data("gallery_effectprev")||a.nav_effect,a.gallery_timing=c.data("gallery_timing")||a.nav_effect,jQuery.extend(b,c.data()),a.opt=b,a.elements=c.children().clone(),c.children().hide(),a.elements.each(function(a){jQuery(this).attr("data-globalindex",a)}),a.pages=[],a.totPages=Math.ceil(a.elements.size()/a.nav_pagination);for(var d=0,e=0;e<a.totPages;e++){for(var f=[],g=0;g<a.nav_pagination&&a.elements[d];g++){var h=a.elements[d];f.push(h),d++}a.pages.push(f)}jQuery.thumbGrid.drawPage(a,a.pageIndex,!1)})},drawPage:function(b,c,d){"undefined"==typeof d&&(d=!0);var e=b,f=jQuery(e);e.nav_effect=f.data("nav_effect")||"fade",e.nav_delay=f.data("nav_delay")||100,e.nav_timing=f.data("nav_timing")||1e3,e.isAnimating=!0;for(var g=e.pages[c],h=jQuery("<ul/>").addClass("thumb-grid"),i=0;i<e.nav_pagination;i++){var j=a(g[i]).clone().removeClass("in");if(!j.length)break;var k=jQuery("<li/>").addClass("thumbWrapper").append(j);if(k.data("idx",i),k.on("click",function(){var b=a("img",this).data("globalindex");jQuery.thumbGrid.drawSlideShow(e,b)}),d){k.css({opacity:0});var l=jQuery.normalizeCss(jQuery.thumbGrid.transitions[e.nav_effect]["in"]);k.css(l)}else{var m=jQuery.normalizeCss({top:0,left:0,opacity:1,x:0,y:0,scale:1,rotate:0,skew:0,filter:" blur(0)"});k.css(m).show()}h.append(k),h.addClass("active")}d&&h.addClass("in"),f.find(".thumb-grid").addClass("out").removeClass("in"),f.prepend(h),setTimeout(function(){for(var b={top:0,left:0,opacity:1,x:0,y:0,scale:1,rotate:0,skew:0,filter:" blur(0)"},c=e.nav_delay,g=0;g<jQuery(".in .thumbWrapper",f).length;g++){var i=jQuery(".in .thumbWrapper",f).eq(g);i.CSSAnimate(b,e.nav_timing,c,"cubic-bezier(0.19, 1, 0.22, 1)",function(){}),c+=e.nav_delay}for(var j=e.nav_delay,k=0;k<jQuery(".out .thumbWrapper",f).length;k++){var l=jQuery(".out .thumbWrapper",f).eq(k),m=jQuery.thumbGrid.transitions[e.nav_effect].out;e.nav.addClass("waiting"),l.CSSAnimate(m,e.nav_timing,j,"cubic-bezier(0.19, 1, 0.22, 1)",function(){a(this).index()==jQuery(".out .thumbWrapper",f).length-1&&(jQuery(".out",f).remove(),e.isAnimating=!1,e.nav.removeClass("waiting"))}),j+=e.nav_delay}f.fadeIn(),d||(e.height=h.height(),f.height(e.height),jQuery.thumbGrid.buildIndex(e),e.isAnimating=!1,"undefined"!=typeof e.nav&&e.nav.show())},100),jQuery(window).on("resize.thumbGrid",function(){e.height=h.height(),f.height(e.height)})},buildIndex:function(a){var b=a,c=jQuery(b),d=jQuery("<nav/>").addClass("thumbGridNav");if(!(b.totPages<=1)){for(var e=1;e<=b.totPages;e++){var f=jQuery("<a/>").html(e).attr({idx:e-1});f.addClass("indexEl"),f.on("click",function(){b.isAnimating||b.pageIndex==jQuery(this).attr("idx")||(b.pageIndex=jQuery(this).attr("idx"),jQuery.thumbGrid.drawPage(b,b.pageIndex),jQuery(".indexEl",d).removeClass("sel"),jQuery(".indexEl",d).eq(b.pageIndex).addClass("sel"))}),d.append(f),jQuery(".indexEl",d).eq(b.pageIndex).addClass("sel")}d.hide(),b.nav=d,c.after(d)}},drawSlideShow:function(b,c){jQuery("body").trigger("drawSlideShow"),jQuery("body").css({overflow:"hidden"});var d=b,e=jQuery(d),f=jQuery("<div/>").addClass("tg-overlay").css({opacity:0}),g=jQuery("<div/>").addClass("tg-placeHolder"),h=jQuery("<div/>").addClass("tg-close tg-icon").on("click",function(){jQuery.thumbGrid.closeSlideShow(b,c)}),i=jQuery("<div/>").addClass("tg-next tg-icon").on("click",function(){t.next()}),j=jQuery("<div/>").addClass("tg-prev tg-icon").on("click",function(){t.prev()}),k=jQuery("<div/>").addClass("tg-spinner"),l=e.find("[data-globalindex="+c+"]").parent("li"),m=l.offset().left-jQuery(window).scrollLeft(),n=l.offset().top-jQuery(window).scrollTop(),o=l.outerWidth(),p=l.outerHeight();d.nav_effect=e.data("nav_effect")||"fade",d.nav_delay=e.data("nav_delay")||500,d.nav_timing=e.data("nav_timing")||1e3,d.slideShowIdx=c,g.css({position:"fixed",left:m,top:n,width:o,height:p}),f.append(g).append(h).append(k).append(i).append(j),jQuery(".tg-icon",f).css({opacity:0});var q,r={lines:11,length:6,width:6,radius:16,corners:1,rotate:16,direction:1,color:"#fff",speed:1.3,trail:52,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"},s=k.get(0);q=new Spinner(r).spin(s),k.hide();var t={effect:d.nav_effect,effectNext:d.gallery_effectnext||d.nav_effect,effectPrev:d.gallery_effectprev||d.nav_effect,init:function(){t.goTo(!1),t.keyboard(!0),d.isAnimating=!1},keyboard:function(a){a?(jQuery(document).on("keydown.thumbGallery",function(a){switch(a.keyCode){case 27:jQuery.thumbGrid.closeSlideShow(b,c),a.preventDefault();break;case 32:a.preventDefault();break;case 39:t.next(),a.preventDefault();break;case 37:t.prev(),a.preventDefault()}}),jQuery("body").on("closeSlideShow",function(){t.keyboard(!1)})):jQuery(document).off("keydown.thumbGallery")},goTo:function(b){var c=jQuery(".tg-img-wrapper",g).eq(0),e=d.slideShowIdx,f=d.elements,h=a(f[e]),i=jQuery("<div/>").addClass("tg-img-wrapper"),j=h.data("highres"),l=h.data("caption"),m=jQuery("<div/>").addClass("tg-img-container");m.css({position:"absolute",top:0,left:0,bottom:0,right:0,width:d.gallery_fullscreenw,height:d.gallery_fullscreenh,margin:"auto"}),i.append(m),g.prepend(i),i.addClass("in");var n=jQuery("<img/>"),o={top:0,left:0,opacity:1,x:0,y:0,scale:1,rotate:0,skew:0,filter:"blur(0)"};b?(i.css(jQuery.normalizeCss(jQuery.thumbGrid.transitions[t.effect]["in"])),t.spinner=setTimeout(function(){q=new Spinner(r).spin(s),k.fadeIn(300)},1e3)):(o=jQuery.normalizeCss(o),i.css(o),i.css({opacity:0})),n.one("load",function(){if(!this.loaded){this.loaded=!0,b?i.css(jQuery.normalizeCss(jQuery.thumbGrid.transitions[t.effect]["in"])):(o=jQuery.normalizeCss(o),i.css(o),i.css({opacity:0})),clearTimeout(t.spinner),k.fadeOut(300,function(){k.empty()}),m.css({backgroundImage:"url("+j+")",backgroundSize:d.gallery_cover?"cover":"contain",backgroundPosition:"center center",backgroundRepeat:"no-repeat"});var a=jQuery("<span/>").addClass("tg-img-index").html(e+1+"/"+f.length+" "),h=jQuery("<label/>").html(l).prepend(a);l&&m.append(h),b&&(d.isAnimating=!0),setTimeout(function(){i.CSSAnimate(o,d.opt.gallery_timing,50,"cubic-bezier(0.19, 1, 0.22, 1)",function(){}),c.CSSAnimate(jQuery.thumbGrid.transitions[t.effect].out,d.opt.gallery_timing,80,"cubic-bezier(0.19, 1, 0.22, 1)",function(){d.isAnimating=!1,c.removeClass("in"),jQuery(".tg-img-wrapper",g).not(".in").remove()})},100)}}).attr({src:j})},next:function(){if(t.effect=t.effectNext,!d.isAnimating||!jQuery.browser.msie){var b=d.elements;++d.slideShowIdx,d.slideShowIdx==a(b).length&&(d.slideShowIdx=0),t.goTo(!0)}},prev:function(){if(t.effect=t.effectPrev,!d.isAnimating||!jQuery.browser.msie){var b=d.elements;--d.slideShowIdx,-1==d.slideShowIdx&&(d.slideShowIdx=a(b).length-1),t.goTo(!0)}}};jQuery("body").append(f),f.CSSAnimate({opacity:1},600,0,function(){g.CSSAnimate({width:"100%",height:"100%",left:0,top:0,opacity:1},400,0,"cubic-bezier(.8,.07,.98,.06)",function(){t.init(d),jQuery(".tg-icon",f).fadeTo(200,1)})})},closeSlideShow:function(b,c){jQuery("body").trigger("closeSlideShow");var d=b,e=jQuery(d),f=e.find("[data-globalindex="+c+"]").parents("li"),g=f.offset().left-jQuery(window).scrollLeft(),h=f.offset().top-jQuery(window).scrollTop(),i=f.outerWidth(),j=f.outerHeight();jQuery(".tg-icon").fadeTo(200,0),jQuery(".tg-placeHolder > div").fadeOut(500),jQuery(".tg-placeHolder").CSSAnimate({width:i,height:j,left:g,top:h,opacity:1},800,400,"cubic-bezier(0.19, 1, 0.22, 1)",function(){jQuery(".tg-overlay").CSSAnimate({opacity:0},600,function(){a(this).remove(),jQuery("body").css({overflow:"auto"})})})}},jQuery.fn.thumbGrid=jQuery.thumbGrid.init}(jQuery),!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Spinner=b()}(this,function(){"use strict";function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+100*(c/d),g=Math.max(1-(1-a)/b*(100-f),a),h=j.substring(0,j.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return l[e]||(m.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",m.cssRules.length),l[e]=1),e}function d(a,b){var c,d,e=a.style;for(b=b.charAt(0).toUpperCase()+b.slice(1),d=0;d<k.length;d++)if(c=k[d]+b,void 0!==e[c])return c;return void 0!==e[b]?b:void 0}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a,b){return"string"==typeof a?a:a[b%a.length]}function h(a){this.opts=f(a||{},h.defaults,n)}function i(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}m.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:k+" "+k,coordorigin:-j+" "+-j}),{width:k,height:k})}function h(a,h,i){b(m,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~h}),b(e(c("roundrect",{arcsize:d.corners}),{width:j,height:d.width,left:d.radius,top:-d.width>>1,filter:i}),c("fill",{color:g(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))))}var i,j=d.length+d.width,k=2*j,l=2*-(d.width+d.length)+"px",m=e(f(),{position:"absolute",top:l,left:l});if(d.shadow)for(i=1;i<=d.lines;i++)h(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=d.lines;i++)h(i);return b(a,m)},h.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var j,k=["webkit","Moz","ms","O"],l={},m=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),n={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};h.defaults={},f(h.prototype,{spin:function(b){this.stop();var c=this,d=c.opts,f=c.el=e(a(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex});if(d.radius+d.length+d.width,e(f,{left:d.left,top:d.top}),b&&b.insertBefore(f,b.firstChild||null),f.setAttribute("role","progressbar"),c.lines(f,c.opts),!j){var g,h=0,i=(d.lines-1)*(1-d.direction)/2,k=d.fps,l=k/d.speed,m=(1-d.opacity)/(l*d.trail/100),n=l/d.lines;!function o(){h++;for(var a=0;a<d.lines;a++)g=Math.max(1-(h+(d.lines-a)*n)%l*m,d.opacity),c.opacity(f,a*d.direction+i,g,d);c.timeout=c.el&&setTimeout(o,~~(1e3/k))}()}return c},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function h(b,c){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*k+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var i,k=0,l=(f.lines-1)*(1-f.direction)/2;k<f.lines;k++)i=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:j&&c(f.opacity,f.trail,l+k*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(i,e(h("#000","0 0 4px #000"),{top:"2px"})),b(d,b(i,h(g(f.color,k),"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var o=e(a("group"),{behavior:"url(#default#VML)"});return!d(o,"transform")&&o.adj?i():j=d(o,"animation"),h}),!function($){function uncamel(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function setUnit(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a}function setFilter(a,b,c){var d=uncamel(b),e=jQuery.browser.mozilla?"":$.CSS.sfx;a[e+"filter"]=a[e+"filter"]||"",c=setUnit(c>$.CSS.filters[b].max?$.CSS.filters[b].max:c,$.CSS.filters[b].unit),a[e+"filter"]+=d+"("+c+") ",delete a[b]}eval(function(a,b,c,d,e,f){if(e=function(a){return a},!"".replace(/^/,String)){for(;c--;)f[c]=d[c]||c;d=[function(a){return f[a]}],e=function(){return"\\w+"},c=1}for(;c--;)d[c]&&(a=a.replace(new RegExp("\\b"+e(c)+"\\b","g"),d[c]));return a}('29 11=17.53;24(!2.9){2.9={};2.9.34=!1;2.9.22=!1;2.9.45=!1;2.9.42=!1;2.9.40=!1;2.9.28=!1;2.9.56=11;2.9.16=17.51;2.9.13=""+47(17.23);2.9.18=26(17.23,10);29 32,12,20;24(-1!=(12=11.15("33")))2.9.45=!0,2.9.16="33",2.9.13=11.14(12+6),-1!=(12=11.15("25"))&&(2.9.13=11.14(12+8));27 24(-1!=(12=11.15("58")))2.9.28=!0,2.9.16="36 38 39",2.9.13=11.14(12+5);27 24(-1!=11.15("57")){2.9.28=!0;2.9.16="36 38 39";29 30=11.15("59:")+3,43=30+4;2.9.13=11.14(30,43)}27-1!=(12=11.15("41"))?(2.9.22=!0,2.9.40=!0,2.9.16="41",2.9.13=11.14(12+7)):-1!=(12=11.15("31"))?(2.9.22=!0,2.9.42=!0,2.9.16="31",2.9.13=11.14(12+7),-1!=(12=11.15("25"))&&(2.9.13=11.14(12+8))):-1!=(12=11.15("68"))?(2.9.22=!0,2.9.16="31",2.9.13=11.14(12+7),-1!=(12=11.15("25"))&&(2.9.13=11.14(12+8))):-1!=(12=11.15("35"))?(2.9.34=!0,2.9.16="35",2.9.13=11.14(12+8)):(32=11.37(" ")+1)<(12=11.37("/"))&&(2.9.16=11.14(32,12),2.9.13=11.14(12+1),2.9.16.63()==2.9.16.64()&&(2.9.16=17.51));-1!=(20=2.9.13.15(";"))&&(2.9.13=2.9.13.14(0,20));-1!=(20=2.9.13.15(" "))&&(2.9.13=2.9.13.14(0,20));2.9.18=26(""+2.9.13,10);67(2.9.18)&&(2.9.13=""+47(17.23),2.9.18=26(17.23,10));2.9.69=2.9.18}2.9.46=/65/19.21(11);2.9.49=/66/19.21(11);2.9.48=/60|61|55/19.21(11);2.9.50=/33 52/19.21(11);2.9.44=/54/19.21(11);2.9.62=2.9.46||2.9.49||2.9.48||2.9.44||2.9.50;',10,70,"||jQuery|||||||browser||nAgt|verOffset|fullVersion|substring|indexOf|name|navigator|majorVersion|i|ix|test|webkit|appVersion|if|Version|parseInt|else|msie|var|start|Safari|nameOffset|Opera|mozilla|Firefox|Microsoft|lastIndexOf|Internet|Explorer|chrome|Chrome|safari|end|windowsMobile|opera|android|parseFloat|ios|blackberry|operaMobile|appName|Mini|userAgent|IEMobile|iPod|ua|Trident|MSIE|rv|iPhone|iPad|mobile|toLowerCase|toUpperCase|Android|BlackBerry|isNaN|AppleWebkit|version".split("|"),0,{})),jQuery.support.CSStransition=function(){var a=document.body||document.documentElement,b=a.style;return void 0!==b.transition||void 0!==b.WebkitTransition||void 0!==b.MozTransition||void 0!==b.MsTransition||void 0!==b.OTransition}(),$.CSS={name:"mb.CSSAnimate",author:"Matteo Bicocchi",version:"2.0.0",transitionEnd:"transitionEnd",sfx:"",filters:{blur:{min:0,max:100,unit:"px"},brightness:{min:0,max:400,unit:"%"},contrast:{min:0,max:400,unit:"%"},grayscale:{min:0,max:100,unit:"%"},hueRotate:{min:0,max:360,unit:"deg"},invert:{min:0,max:100,unit:"%"},saturate:{min:0,max:400,unit:"%"},sepia:{min:0,max:100,unit:"%"}},normalizeCss:function(a){var b=jQuery.extend(!0,{},a);jQuery.browser.webkit||jQuery.browser.opera?$.CSS.sfx="-webkit-":jQuery.browser.mozilla?$.CSS.sfx="-moz-":jQuery.browser.msie&&($.CSS.sfx="-ms-");for(var c in b){"transform"===c&&(b[$.CSS.sfx+"transform"]=b[c],delete b[c]),"transform-origin"===c&&(b[$.CSS.sfx+"transform-origin"]=a[c],delete b[c]),"filter"!==c||jQuery.browser.mozilla||(b[$.CSS.sfx+"filter"]=a[c],delete b[c]),"blur"===c&&setFilter(b,"blur",a[c]),"brightness"===c&&setFilter(b,"brightness",a[c]),"contrast"===c&&setFilter(b,"contrast",a[c]),"grayscale"===c&&setFilter(b,"grayscale",a[c]),"hueRotate"===c&&setFilter(b,"hueRotate",a[c]),"invert"===c&&setFilter(b,"invert",a[c]),"saturate"===c&&setFilter(b,"saturate",a[c]),"sepia"===c&&setFilter(b,"sepia",a[c]);var d="";"x"===c&&(d=$.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateX("+setUnit(a[c],"px")+")",delete b[c]),"y"===c&&(d=$.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateY("+setUnit(a[c],"px")+")",delete b[c]),"z"===c&&(d=$.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateZ("+setUnit(a[c],"px")+")",delete b[c]),"rotate"===c&&(d=$.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotate("+setUnit(a[c],"deg")+")",delete b[c]),"rotateX"===c&&(d=$.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateX("+setUnit(a[c],"deg")+")",delete b[c]),"rotateY"===c&&(d=$.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateY("+setUnit(a[c],"deg")+")",delete b[c]),"rotateZ"===c&&(d=$.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateZ("+setUnit(a[c],"deg")+")",delete b[c]),"scale"===c&&(d=$.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scale("+setUnit(a[c],"")+")",delete b[c]),"scaleX"===c&&(d=$.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleX("+setUnit(a[c],"")+")",delete b[c]),"scaleY"===c&&(d=$.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleY("+setUnit(a[c],"")+")",delete b[c]),"scaleZ"===c&&(d=$.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleZ("+setUnit(a[c],"")+")",delete b[c]),"skew"===c&&(d=$.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skew("+setUnit(a[c],"deg")+")",delete b[c]),"skewX"===c&&(d=$.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skewX("+setUnit(a[c],"deg")+")",delete b[c]),"skewY"===c&&(d=$.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skewY("+setUnit(a[c],"deg")+")",delete b[c]),"perspective"===c&&(d=$.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" perspective("+setUnit(a[c],"px")+")",delete b[c])}return b},getProp:function(a){var b=[];for(var c in a)b.indexOf(c)<0&&b.push(uncamel(c));return b.join(",")},animate:function(a,b,c,d,e){return this.each(function(){function f(){g.called=!0,g.CSSAIsRunning=!1,h.off($.CSS.transitionEnd+"."+g.id),clearTimeout(g.timeout),h.css($.CSS.sfx+"transition",""),"function"==typeof e&&e.apply(g),"function"==typeof g.CSSqueue&&(g.CSSqueue(),g.CSSqueue=null)}var g=this,h=jQuery(this);g.id=g.id||"CSSA_"+(new Date).getTime();var i=i||{type:"noEvent"};if(g.CSSAIsRunning&&g.eventType==i.type&&!jQuery.browser.msie&&jQuery.browser.version<=9)return void(g.CSSqueue=function(){h.CSSAnimate(a,b,c,d,e)});if(g.CSSqueue=null,g.eventType=i.type,0!==h.length&&a){if(a=$.normalizeCss(a),g.CSSAIsRunning=!0,"function"==typeof b&&(e=b,b=jQuery.fx.speeds._default),"function"==typeof c&&(d=c,c=0),"string"==typeof c&&(e=c,c=0),"function"==typeof d&&(e=d,d="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof b)for(var j in jQuery.fx.speeds){if(b==j){b=jQuery.fx.speeds[j];break}b=jQuery.fx.speeds._default}if(b||(b=jQuery.fx.speeds._default),"string"==typeof e&&(d=e,e=null),!jQuery.support.CSStransition){for(var k in a){if("transform"===k&&delete a[k],"filter"===k&&delete a[k],"transform-origin"===k&&delete a[k],"auto"===a[k]&&delete a[k],"x"===k){var l=a[k],m="left";a[m]=l,delete a[k]}if("y"===k){var l=a[k],m="top";a[m]=l,delete a[k]}("-ms-transform"===k||"-ms-filter"===k)&&delete a[k]}return void h.delay(c).animate(a,b,e)}var n={"default":"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};n[d]&&(d=n[d]),h.off($.CSS.transitionEnd+"."+g.id);var o=$.CSS.getProp(a),p={};$.extend(p,a),p[$.CSS.sfx+"transition-property"]=o,p[$.CSS.sfx+"transition-duration"]=b+"ms",p[$.CSS.sfx+"transition-delay"]=c+"ms",p[$.CSS.sfx+"transition-timing-function"]=d,setTimeout(function(){h.one($.CSS.transitionEnd+"."+g.id,f),h.css(p)},1),g.timeout=setTimeout(function(){return g.called||!e?(g.called=!1,void(g.CSSAIsRunning=!1)):(h.css($.CSS.sfx+"transition",""),e.apply(g),g.CSSAIsRunning=!1,void("function"==typeof g.CSSqueue&&(g.CSSqueue(),g.CSSqueue=null)))},b+c+10)}})}},$.fn.CSSAnimate=$.CSS.animate,$.normalizeCss=$.CSS.normalizeCss,$.fn.css3=function(a){return this.each(function(){var b=$(this),c=$.normalizeCss(a);b.css(c)})}}(jQuery);var nAgt=navigator.userAgent;if(!jQuery.browser){jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.msie=!1,jQuery.browser.ua=nAgt,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var nameOffset,verOffset,ix;if(-1!=(verOffset=nAgt.indexOf("Opera")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8));else if(-1!=(verOffset=nAgt.indexOf("OPR")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+4);else if(-1!=(verOffset=nAgt.indexOf("MSIE")))jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5);else if(-1!=nAgt.indexOf("Trident")){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3,end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}else-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion}jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle;